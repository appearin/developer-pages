{"version":3,"file":"appearin-sdk.0.0.1.min.js","sources":["appearin-sdk.0.0.1.js"],"names":["e","exports","module","define","amd","f","window","global","self","AppearIn","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"./lib/appearin",2,"checkSupportForIce","server","stunServer","config","iceServers","url","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","pc","iceConnectionState","addRoomToElement","element","roomName","roomNameUtil","normalize","src","BASE_URL","this","namespace","request","promise","req","denodeify","API_URL","prototype","isWebRtcCompatible","supportsVideoElement","document","createElement","canPlayType","supportsVP8","supportsGetUserMedia","navigator","mozGetUserMedia","webkitGetUserMedia","msGetUserMedia","getUserMedia","supportsRTCPeerConnection","supportsIceCandidates","getRandomRoomName","nodeify","method","uri","headers","accept","then","res","JSON","parse","body","addRoomToIframe","iframe","addRoomToElementById","id","getElementById","./roomNameUtil","browser-request",3,"ensurePrependedSlash","reservedNames","requirements","join","pattern","rawName","rawNameWithSlash","trim","toLowerCase","replace",4,"root","factory","returnExports","options","callback","options_onResponse","onResponse","stringify","verbose","log","getLogger","unsupported_options","timeout","DEFAULT_TIMEOUT","host","json","serialize","obj","str","p","hasOwnProperty","push","encodeURIComponent","qs","indexOf","multipart","result","boundry","Math","floor","random","lines","type","form","encoding","multi","noop","authorization","auth","b64_enc","username","password","run_xhr","too_late","timed_out","er","duration","error","xhr","_id","milliseconds","on_state_change","debug","state","readyState","XHR","OPENED","key","setRequestHeader","HEADERS_RECEIVED","on_response","LOADING","on_loading","DONE","on_end","did","response","status","clearTimeout","timeoutTimer","statusCode","is_cors","cors_err","cors","loading","end","responseText","is_crossDomain","supports_cors","req_seq","seq_id","setTimeout","onreadystatechange","open","withCredentials","send","level","logger","levels","console","formatted","formatted_logger","context","ajaxLocation","rurl","location","href","ajaxLocParts","exec","parts","data","o1","o2","o3","h1","h2","h3","h4","bits","b64","ac","enc","tmp_arr","charCodeAt","charAt","slice","XMLHttpRequest","trace","info","warn","defaults","def","d","params","undefined","de","get","post","put","head","shortcuts","forEach","shortcut","toUpperCase","func","opts","args","concat","Array","apply","arguments","couch","couch_handler","resp","reason",5,"process","nextTick","canSetImmediate","setImmediate","canMutationObserver","MutationObserver","canPost","postMessage","addEventListener","queue","hiddenDiv","observer","queueList","fn","observe","attributes","setAttribute","ev","source","stopPropagation","shift","title","browser","env","argv","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir",6,"./lib/core.js","./lib/done.js","./lib/es6-extensions.js","./lib/node-extensions.js",7,"Promise","handle","deferred","deferreds","asap","cb","onFulfilled","onRejected","resolve","reject","value","ret","newValue","TypeError","doResolve","bind","finale","len","constructor","Handler","done","ex",8,"err","./core.js",9,"ValuePromise","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","arr","val","remaining","race","values",10,"argumentCount","Infinity","pop","ctx",11,"flush","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestFlush","MessageChannel","channel","port1","onmessage","port2","_process"],"mappings":"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"}